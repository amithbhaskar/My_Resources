# Data Warehousing
 
## Data Warehouse                                  
Subject Oriented                                   
Time-Variant                                       
Integrated                                         
Nonvolatile                                        
Designed To Support Strategic Decision Making.     

## Operational Database
Multiple Diverse Sources
Application Oriented
Real-Time & Current
Updateable
Designed Primarily To Support Day To Day Operations.

## Terminology used to describe various parts of a Data Warehouse:
1. Dimensions - A dimension table typically has two types of columns, primary keys which refers fact tables and textual\descriptive data.
2. Fact table - is a collection of multiple keys and measures, joined with one or more dimension tables.
3. Data Staging Area - is where you hold/dump the data in temporary tables, to perform data cleansing and merging, before loading the data to the data warehouse.
4. Hierarchy  - defines parent-child relationships among various levels within a single dimension.
5. Drill-down vs Roll-up.
6. Aggregation / Summarization / Consolidation
7. Granularity - describes the level below which no supporting details are stored.
* http://dwhlaureate.blogspot.com/2012/07/
Online Extraction  - data is extracted directly from the Source for processing in the staging area
Offline Extraction - data is taken from another external area(Flat files/some dump) which keeps the copy of source.
Flat file - Flat files are data stored in the form of columns and rows(ASCII format) on our file system to emulate a DBMS table.
 
* Datawarehouse E books: http://dwhlaureate.blogspot.com/2013/01/datawarehouse-e-books-getting-started.html
 
OLTP - Online Transaction Processing.
                It uses normalized tables to quickly record large amounts of transactions.
                OLTP database are designed for recording the daily operations and transactions of a business.
OLAP - Online Analytical Processing.
                It uses fact and dimension tables to view/querying large amounts of data to enable multidimensional view & analysis.
                OLAP could provide management with fast answers to complex queries or enable them to analyze their company's historical data for trends and patterns.
 
Data Warehouse
                -> Data Marts
                                - Fact Tables
                                - Dimension Tables
                                - Master Tables
Data Marts are subsets of a data warehouse meant to meet with particular demands of a specific business unit/group of users.
• Data mart and data warehousing are tools to assist management to come up with relevant information about the organization at any point of time
• While data marts are limited for use of a department only, data warehousing applies to an entire organization
• Data marts are easy to design and use while data warehousing is complex and difficult to manage
• Data warehousing is more useful as it can come up with information from any department
 
## Things to Remember:
- Development Phase in Data Warehouse Project Life Cycle :
                ETL development: ETL developers will prepare a data-model with all dimensions and facts from heterogeneous data sources.
                Reporting development: Once the DWH is built,the reporters will configure the repository and generate the reports as per the client's requirement.
* http://dwhlaureate.blogspot.com/2013/01/data-warehouse-project-phases-in-life.html
- In the typical case for a data warehouse, we first check if we have new values for dimension tables, insert them first and then load the fact tables.
- In most cases, the fact tables will be the ones that take most of the space. They’ll probably also grow much faster than dimension tables.
 
## Types of Dimensions
• Slowly Changing Dimensions : a dimension table that would undergo changes over time, to preserve the history of changes depending on business requirement.
• Rapidly Changing Dimensions : A dimension attribute that changes frequently, Example - patientID,Height,Weight.
• Shrunken Dimensions/Junk Dimensions: is a single table with a combination of different and unrelated attributes to avoid having a large number of foreign keys.
• Conformed Dimensions : to be used with multiple fact tables in a single database, or across multiple data marts or data warehouses.
• Degenerate Dimensions : is when the dimension attribute is stored as part of fact table, and does not have its own separate dimension table
• Role Playing Dimensions: is where the same dimension key, along with its associated attributes, can be joined to more than one foreign key in the fact table.
• Static Dimensions : are not extracted from the original data source, can be generated or loaded manually.
• Inferred Dimensions / Late arriving dimensions / Early-arriving facts : While loading fact records, a dimension record may not yet be ready. One solution is to generate a surrogate key with null for all the other attributes.
                               
## Types of Facts
• Additive facts are facts that can be summed up through all of the dimensions in the fact table.
                Eg: Sales fact
• Semi-additive facts are facts that can be summed up for some of the dimensions in the fact table, but not the others.
                Eg: Daily balances fact can be summed up through the customers dimension but not through the time dimension.
• Non-additive facts are facts that cannot be summed up for any of the dimensions present in the fact table.
                Eg: Facts which have percentages, Ratios calculated.
• Snapshot - describes the state of things in a particular instance of time.
                Eg: Daily balances fact can be summed up through the customers dimension but not through the time dimension.
• Cumulative - describes what has happened over a period of time.
                Eg: Total sales by product by store by day.
• Factless Fact Table - A factless fact table captures the many-to-many relationships between dimensions, but contains no numeric or textual facts.
                                                                                                It contains data only at information level but is not included in the calculations.
                Eg: A fact table which has only product key and date key to get the number products sold over a period of time.
                                Tracking student attendance or registration events
                                Tracking insurance-related accident events
                                Identifying building, facility, and equipment schedules for a hospital or university
* http://dwhlaureate.blogspot.com/2012/08/factless-fact-table.html
 
## Surrogate key / Surrogate Primary key / Artificial Identity key
Surrogate key is a unique identifier/number for each row that can be used in place of primary key to the table.
It is useful because the natural primary key (i.e. Customer Number in Customer table) can change and this makes updates more difficult.
Some tables have columns such as AIRPORT_NAME or CITY_NAME which are stated as the primary keys (according to the business users) but ,not only can these change, indexing on a numerical value is probably better and you could consider creating a surrogate key called, say, AIRPORT_ID. This would be internal to the system and as far as the client is concerned you may display only the AIRPORT_NAME.
 
## Business Key – This the key column which is used to compare Facts and dimension table or on which look up is performed.
 
## Types of SCD.
SCD Type 1 – There is no need to store historical data in the dimension table.
                                                 It overwrites the old dimension value with new one in database.
                                                 It is basically used to correct data in dimension table.
                                                 To delete some characters, to correct spelling.
SCD Type 2 – Dimension table historyis maintained in the database in the format of FLAG, EffectiveDate/Versions.
                                                The update is esentially treated as a new record with an entry in flag/date column.
SCD Type 3 – Only current and previous values of particular column kept in database for the dimension table.
                                                Should be used only when changes will only occur for finite number of time & does not increase the size of the table when new information is updated.
SCD Type 4 – A separate table is used to store the history or to track the change in any attributes of the dimension table.
               
 
## Most Common Data Warehouse Models to organize data using relational databases
Star Schema - has a single fact table connected to multiple dimension tables, with only one join establishing relationship with each of them, like a star.
Snowflake Schema - extension of the star schema where large dimension tables are normalized into multiple tables.
 
- Star Schema
                Highly denormalized & Data access latency is less in star schema.
                Schema querying is far simple.
                Better Performance but Size of the data warehouse will be larger than that of snowflake schema.
- Snowflake Schema
                Memory utilization is better, Snowflake schemas will use less space to store data in dimension tables due to denormalization.
                Aggregation/SCD/Junk Dimensions are prepared which compresses data significantly to be used in reports.
- Hybrid Schema
                Combines star schema structures and snowflake schemas, As additional data marts are added to a data warehouse, the schema of the entire data warehouse hosts a combination of the star and snowflake schema to store the data efficiently, for each data mart. Dimension tables may also be shared across different data marts to provide data consistency
               
* ETL Testing: http://dwhlaureate.blogspot.com/2013/01/different-types-of-etl-testing.html
 
http://siddhumehta.blogspot.in/2009/04/delta-detection-techniques-in-etl.html
https://dwbi.org/etl/etl/53-methods-of-incremental-loading-in-data-warehouse
https://www.mssqltips.com/sqlservertip/1442/handle-slowly-changing-dimensions-in-sql-server-integration-services/
http://dwgeek.com/scd-type-2-sql.html/
 
## To search:
What are the processes we should follow to take developed code into production